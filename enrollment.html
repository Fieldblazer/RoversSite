<!DOCTYPE html KEEP>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rovers FC | Texarkana Rovers Football Club</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Stripe JavaScript SDK -->
    <script src="https://js.stripe.com/v3/"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        navy: '#001f3f',
                        skyblue: '#87CEEB',
                        gold: '#FFD700',
                        black: '#111827',
                        trfc: {
                            dark: '#0A0F1D',
                            blue: '#1E90FF',
                            gold: '#FFD700',
                        }
                    },
                    fontFamily: {
                        sans: ['Montserrat', 'sans-serif'],
                        title: ['Oswald', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Oswald:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #0A0F1D;
            color: white;
        }
        
        /* CRITICAL: Add CSS rules to hide/show form sections */
        .form-section {
            display: none;
        }
        .form-section.active {
            display: block;
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, rgba(10,15,29,0.95) 0%, rgba(30,144,255,0.85) 100%);
        }
        
        .hover-scale {
            transition: transform 0.3s ease;
        }
        .hover-scale:hover {
            transform: scale(1.03);
        }
        
        .nav-link {
            position: relative;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -2px;
            left: 0;
            background-color: #FFD700;
            transition: width 0.3s ease;
        }
        .nav-link:hover::after {
            width: 100%;
        }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .team-card {
            background: linear-gradient(to bottom, #1E90FF 0%, #0A0F1D 100%);
            border-left: 4px solid #FFD700;
        }
        
        .news-card {
            background: rgba(30, 144, 255, 0.1);
            border-top: 4px solid #FFD700;
        }
        
        .btn-gold {
            background-color: #FFD700;
            color: #0A0F1D;
            transition: all 0.3s ease;
        }
        .btn-gold:hover {
            background-color: #FFC000;
            transform: translateY(-2px);
        }
        
        .btn-outline {
            border: 2px solid #FFD700;
            color: #FFD700;
            transition: all 0.3s ease;
        }
        .btn-outline:hover {
            background-color: #FFD700;
            color: #0A0F1D;
        }
        
        .dropdown:hover .dropdown-menu,
.dropdown .dropdown-menu:hover {
    display: block;
}

        /* Tab indicator styles */
        .tab-indicator {
            border-bottom: 2px solid transparent;
        }
        .tab-indicator.active {
            border-bottom-color: #FFD700;
        }

        /* Stripe Elements styling */
        .StripeElement {
            box-sizing: border-box;
            height: 40px;
            padding: 10px 12px;
            border: 1px solid transparent;
            border-radius: 4px;
            background-color: white;
            box-shadow: 0 1px 3px 0 #e6ebf1;
            -webkit-transition: box-shadow 150ms ease;
            transition: box-shadow 150ms ease;
        }
        
        .StripeElement--focus {
            box-shadow: 0 1px 3px 0 #cfd7df;
        }
        
        .StripeElement--invalid {
            border-color: #fa755a;
        }
        
        .StripeElement--webkit-autofill {
            background-color: #fefde5 !important;
        }
    </style>
</head>
<body class="bg-trfc-dark">
    <!-- Top Bar -->
    <div class="bg-black text-white text-sm py-2 px-4">
        <div class="container mx-auto flex flex-col sm:flex-row justify-between items-center space-y-2 sm:space-y-0 text-center sm:text-left">
            <div class="flex space-x-4">
                <a href="#" class="hover:text-skyblue"><i class="fas fa-phone-alt mr-1"></i> (903) 748-7697</a>
                <a href="#" class="hover:text-skyblue"><i class="fas fa-envelope mr-1"></i> info@txkrovers.com</a>
            </div>
            <div class="flex space-x-4">
                <a href="https://www.facebook.com/TXKRovers" class="hover:text-gold"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="hover:text-gold"><i class="fab fa-twitter"></i></a>
                <a href="#" class="hover:text-gold"><i class="fab fa-instagram"></i></a>
                <a href="#" class="hover:text-gold"><i class="fab fa-youtube"></i></a>
            </div>
        </div>
    </div>

    <!-- Main Nav -->
<nav class="bg-trfc-dark border-b border-gray-800 sticky top-0 z-50 shadow-lg">
  <div class="max-w-7xl mx-auto px-6 lg:px-8">
    <div class="flex justify-between items-center py-4">

      <!-- Logo + Title Block - Better spacing -->
      <div class="flex items-center space-x-4 flex-shrink-0">
        <img
          src="https://i.imgur.com/1y6lprp.png"
          alt="ROVERS Logo"
          class="h-16 w-16"
        />
        <div class="leading-tight">
          <h1 class="text-xl font-bold font-title text-white whitespace-nowrap">
            TEXARKANA ROVERS
          </h1>
          <p class="text-xl font-bold font-title text-gold whitespace-nowrap">
            FOOTBALL CLUB
          </p>
        </div>
      </div>

      <!-- Navigation Links - Better spacing and alignment -->
      <div class="hidden lg:flex items-center space-x-6 xl:space-x-8">
        <!-- HOME -->
        <a href="/index.html" class="nav-link text-white hover:text-gold font-medium">
          Home
        </a>

        <!-- ABOUT -->
        <a href="/about.html" class="nav-link text-white hover:text-gold font-medium">
          About
        </a>

        <!-- CLUB dropdown -->
        <div class="relative group">
          <button class="nav-link text-white hover:text-gold flex items-center font-medium">
            Club <i class="fas fa-chevron-down ml-2 text-xs"></i>
          </button>

          <div class="absolute left-0 top-full w-44 bg-trfc-dark rounded-lg shadow-xl border border-gray-700
            hidden group-hover:block z-10">
            <a href="/kit-academy.html" class="block px-4 py-3 text-white hover:bg-gray-700 hover:text-gold transition-colors">Kit Academy</a>
            <a href="/rovers-fc.html" class="block px-4 py-3 text-white hover:bg-gray-700 hover:text-gold transition-colors">Rovers FC</a>
            <a href="/coming-soon.html" class="block px-4 py-3 text-white hover:bg-gray-700 hover:text-gold transition-colors">Schedules</a>
            <a href="/gear.html" class="block px-4 py-3 text-white hover:bg-gray-700 hover:text-gold transition-colors">Gear</a>
            <a href="/coming-soon.html" class="block px-4 py-3 text-white hover:bg-gray-700 hover:text-gold transition-colors">Scholarships</a>
            <a href="/faq.html" class="block px-4 py-3 text-white hover:bg-gray-700 hover:text-gold transition-colors rounded-b-lg">FAQ</a>
          </div>
        </div>


        <!-- PROGRAMS dropdown -->
        <div class="relative group">
          <button class="nav-link text-white hover:text-gold flex items-center font-medium">
            Programs <i class="fas fa-chevron-down ml-2 text-xs"></i>
          </button>

         <div class="absolute left-0 top-full w-44 bg-trfc-dark rounded-lg shadow-xl border border-gray-700
            hidden group-hover:block z-10">
            <a href="/open-training.html" class="block px-4 py-3 text-white hover:bg-gray-700 hover:text-gold transition-colors">Open Training</a>
            <a href="coming-soon.html" class="block px-4 py-3 text-white hover:bg-gray-700 hover:text-gold transition-colors">Recreation League</a>
            <a href="/competitive.html" class="block px-4 py-3 text-white hover:bg-gray-700 hover:text-gold transition-colors">Competitive</a>
            <a href="/community-outreach.html" class="block px-4 py-3 text-white hover:bg-gray-700 hover:text-gold transition-colors rounded-b-lg">Community Outreach</a>
          </div>
        </div>

        <!-- Other static links -->
        <a href="/enrollment.html" class="nav-link text-white hover:text-gold font-medium">Enrollment</a>
        <a href="/coming-soon.html" class="nav-link text-white hover:text-gold font-medium">News</a>
        <a href="/contact.html" class="nav-link text-white hover:text-gold font-medium">Contact</a>

        <!-- APPLY Button - Better styling -->
        <a
          href="/apply.html"
          class="bg-yellow-400 hover:bg-yellow-500 text-black font-bold px-6 py-2.5 rounded-lg transition-all duration-300 hover:shadow-lg hover:scale-105 ml-2"
        >
          APPLY
        </a>
      </div>

      <!-- Mobile Menu Button -->
      <button class="lg:hidden text-white focus:outline-none p-2">
        <i class="fas fa-bars text-2xl"></i>
      </button>

    </div>
  </div>
</nav>

<!-- Announcement Bar -->
<div class="bg-trfc-blue text-white py-3">
  <div class="container mx-auto px-4">
    <div class="flex justify-center items-center text-center space-x-4">
      <!-- Bullhorn Icon -->
      <i class="fas fa-bullhorn text-trfc-gold mr-3 text-xl"></i>
      
      <!-- Announcement Text -->
      <p class="font-bold">
        <span class="text-white">2025 Uniform Reveal!</span>
      </p>
      
      <!-- Get Gear Button -->
      <a href="gear.html" class="bg-trfc-gold hover:bg-yellow-500 text-black px-4 py-1 rounded font-bold text-sm transition-colors">
        Get Gear
      </a>
    </div>
  </div>
</div>

  <!-- Hero / Banner -->
  <section class="py-16 bg-gradient-to-r from-trfc-blue to-trfc-dark">
    <div class="container mx-auto px-4 text-center">
      <h1 class="text-4xl md:text-5xl font-bold text-gold mb-4">2025–2026 Season Enrollment</h1>
      <p class="text-gray-300 text-xl max-w-2xl mx-auto">
        Please fill out all required sections below to enroll your player.
      </p>
    </div>
  </section>

  <!-- Enrollment Form Container -->
  <main class="container mx-auto px-4 py-8">
    <div class="bg-trfc-dark rounded-lg shadow-lg overflow-hidden">
      <div class="bg-trfc-blue text-white p-6">
        <h2 class="text-3xl font-bold">Player & Parent Information</h2>
        <p class="mt-2">Complete all sections to enroll your player.</p>
      </div>

      <div class="p-6">
        <!-- Tabs -->
        <div class="flex border-b border-gray-700">
          <!-- Each tab‐header button now explicitly has type="button" -->
          <button
            type="button"
            class="tab-indicator px-6 py-3 font-medium text-trfc-gold border-b-2 border-trfc-gold active"
            data-tab="enrollment"
          >
            Enrollment
          </button>
          <button
            type="button"
            class="tab-indicator px-6 py-3 font-medium text-gray-400 hover:text-trfc-gold"
            data-tab="medical"
          >
            Medical
          </button>
          <button
            type="button"
            class="tab-indicator px-6 py-3 font-medium text-gray-400 hover:text-trfc-gold"
            data-tab="waiver"
          >
            Waiver
          </button>
          <button
            type="button"
            class="tab-indicator px-6 py-3 font-medium text-gray-400 hover:text-trfc-gold"
            data-tab="documents"
          >
            Documents
          </button>
        </div>

        <!-- SINGLE FORM wrapping all four sections -->
        <form
          id="enrollmentForm"
          action="/api/enroll"
          method="POST"
          enctype="multipart/form-data"
        >
          <!-- ENROLLMENT SECTION -->
          <div id="enrollment" class="form-section active mt-6">
            <h3 class="text-2xl font-semibold text-white mb-6">Player Information</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label
                  for="firstName"
                  class="block text-sm font-medium text-white required-field"
                >First Name</label>
                <input
                  type="text"
                  id="firstName"
                  name="firstName"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
              <div>
                <label
                  for="lastName"
                  class="block text-sm font-medium text-white required-field"
                >Last Name</label>
                <input
                  type="text"
                  id="lastName"
                  name="lastName"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
              <div>
                <label
                  for="birthDate"
                  class="block text-sm font-medium text-white required-field"
                >Date of Birth</label>
                <input
                  type="date"
                  id="birthDate"
                  name="birthDate"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
              <div>
                <label
                  for="gender"
                  class="block text-sm font-medium text-white required-field"
                >Gender</label>
                <select
                  id="gender"
                  name="gender"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                >
                  <option value="">Select</option>
                  <option value="male">Male</option>
                  <option value="female">Female</option>
      
                </select>
              </div>
              <div>
                <label
                  for="school"
                  class="block text-sm font-medium text-white"
                >School Attending</label>
                <input
                  type="text"
                  id="school"
                  name="school"
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
              <div>
                <label
                  for="grade"
                  class="block text-sm font-medium text-white"
                >Grade (2023–24)</label>
                <select
                  id="grade"
                  name="grade"
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                >
                  <option value="">Select</option>
                  <option value="pre-k">Pre-K</option>
                  <option value="k">Kindergarten</option>
                  <option value="1">1st</option>
                  <option value="2">2nd</option>
                  <option value="3">3rd</option>
                  <option value="4">4th</option>
                  <option value="5">5th</option>
                  <option value="6">6th</option>
                  <option value="7">7th</option>
                  <option value="8">8th</option>
                  <option value="9">9th</option>
                  <option value="10">10th</option>
                  <option value="11">11th</option>
                  <option value="12">12th</option>
                </select>
              </div>
            </div>

            <h3 class="text-2xl font-semibold text-white mt-8 mb-6">Parent/Guardian Information</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label
                  for="parentName"
                  class="block text-sm font-medium text-white required-field"
                >Parent/Guardian Name</label>
                <input
                  type="text"
                  id="parentName"
                  name="parentName"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
              <div>
                <label
                  for="relationship"
                  class="block text-sm font-medium text-white required-field"
                >Relationship</label>
                <input
                  type="text"
                  id="relationship"
                  name="relationship"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
              <div>
                <label
                  for="email"
                  class="block text-sm font-medium text-white required-field"
                >Email</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
              <div>
                <label
                  for="phone"
                  class="block text-sm font-medium text-white required-field"
                >Phone Number</label>
                <input
                  type="tel"
                  id="phone"
                  name="phone"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
              <div class="md:col-span-2">
                <label
                  for="address"
                  class="block text-sm font-medium text-white required-field"
                >Address</label>
                <input
                  type="text"
                  id="address"
                  name="address"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
              <div>
                <label
                  for="city"
                  class="block text-sm font-medium text-white required-field"
                >City</label>
                <input
                  type="text"
                  id="city"
                  name="city"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>

              <!-- Updated State Selection (replace the existing state select) -->
<div>
  <label
    for="state"
    class="block text-sm font-medium text-white required-field"
  >State</label>
  <select
    id="state"
    name="state"
    required
    class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
  >
    <option value="">Select</option>
    <option value="TX">Texas</option>
    <option value="AR">Arkansas</option>
    <option value="LA">Louisiana</option>
    <option value="OK">Oklahoma</option>
  </select>
</div>

              <div>
                <label
                  for="zip"
                  class="block text-sm font-medium text-white required-field"
                >ZIP Code</label>
                <input
                  type="text"
                  id="zip"
                  name="zip"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
            </div>

            <h3 class="text-2xl font-semibold text-white mt-8 mb-6">Emergency Contact</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label
                  for="emergencyName"
                  class="block text-sm font-medium text-white required-field"
                >Name</label>
                <input
                  type="text"
                  id="emergencyName"
                  name="emergencyName"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
              <div>
                <label
                  for="emergencyRelationship"
                  class="block text-sm font-medium text-white required-field"
                >Relationship</label>
                <input
                  type="text"
                  id="emergencyRelationship"
                  name="emergencyRelationship"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
              <div>
                <label
                  for="emergencyPhone"
                  class="block text-sm font-medium text-white required-field"
                >Phone Number</label>
                <input
                  type="tel"
                  id="emergencyPhone"
                  name="emergencyPhone"
                  required
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
            </div>

            <h3 class="text-2xl font-semibold text-white mt-8 mb-6">Soccer Experience</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label
                  for="experience"
                  class="block text-sm font-medium text-white"
                >Years of Experience</label>
                <select
                  id="experience"
                  name="experience"
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                >
                  <option value="none">None</option>
                  <option value="1">1 year</option>
                  <option value="2">2 years</option>
                  <option value="3">3 years</option>
                  <option value="4+">4+ years</option>
                </select>
              </div>
              <div>
                <label
                  for="position"
                  class="block text-sm font-medium text-white"
                >Preferred Position(s)</label>
                <input
                  type="text"
                  id="position"
                  name="position"
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
            </div>

            <div class="mt-8">
              <label class="inline-flex items-center">
                <input
                  type="checkbox"
                  name="newsletter"
                  class="rounded border-gray-700 text-trfc-gold focus:ring-trfc-gold"
                />
                <span class="ml-2 text-white">Subscribe to league updates</span>
              </label>
            </div>

            <div class="mt-8 flex justify-between">
              <button
                type="button"
                class="px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-600"
                data-prev="enrollment"
                disabled
              >
                <i class="fas fa-arrow-left mr-2"></i> Back
              </button>
              <button
                type="button"
                class="next-tab px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-trfc-gold hover:bg-[#e6c300] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-trfc-gold"
                data-next="medical"
              >
                Next: Medical <i class="fas fa-arrow-right ml-2"></i>
              </button>
            </div>
          </div>

          <!-- MEDICAL SECTION -->
          <div id="medical" class="form-section mt-6">
            <h3 class="text-2xl font-semibold text-white mb-6">Medical Release</h3>
            <div class="bg-trfc-dark p-6 rounded-lg mb-6">
              <h4 class="text-lg font-medium text-white mb-4">Medical Information</h4>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label
                    for="physician"
                    class="block text-sm font-medium text-white"
                  >Physician's Name</label>
                  <input
                    type="text"
                    id="physician"
                    name="physician"
                    class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                  />
                </div>
                <div>
                  <label
                    for="physicianPhone"
                    class="block text-sm font-medium text-white"
                  >Physician's Phone</label>
                  <input
                    type="tel"
                    id="physicianPhone"
                    name="physicianPhone"
                    class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                  />
                </div>
              </div>

              <div class="mt-6">
                <label
                  for="medicalConditions"
                  class="block text-sm font-medium text-white"
                >Medical Conditions/Allergies</label>
                <textarea
                  id="medicalConditions"
                  name="medicalConditions"
                  rows="3"
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                ></textarea>
                <p class="mt-2 text-sm text-gray-400">List any medical conditions or allergies.</p>
              </div>

              <div class="mt-6">
                <label
                  for="medications"
                  class="block text-sm font-medium text-white"
                >Current Medications</label>
                <textarea
                  id="medications"
                  name="medications"
                  rows="3"
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                ></textarea>
                <p class="mt-2 text-sm text-gray-400">List any medications the player is taking.</p>
              </div>

              <div class="mt-6">
                <label
                  for="insuranceProvider"
                  class="block text-sm font-medium text-white"
                >Insurance Provider</label>
                <input
                  type="text"
                  id="insuranceProvider"
                  name="insuranceProvider"
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
              <div class="mt-6">
                <label
                  for="policyNumber"
                  class="block text-sm font-medium text-white"
                >Policy Number</label>
                <input
                  type="text"
                  id="policyNumber"
                  name="policyNumber"
                  class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                />
              </div>
            </div>

            <div class="bg-trfc-dark p-6 rounded-lg">
              <h4 class="text-lg font-medium text-white mb-4">Emergency Medical Authorization</h4>
              <p class="text-gray-400 mb-4">
                I authorize Rovers FC staff to seek emergency medical treatment for my child if I cannot be reached.
              </p>

              <div class="mt-4">
                <label class="inline-flex items-center">
                  <input
                    type="checkbox"
                    name="medicalAuthorization"
                    required
                    class="rounded border-gray-700 text-trfc-gold focus:ring-trfc-gold"
                  />
                  <span class="ml-2 text-white required-field">I authorize emergency treatment</span>
                </label>
              </div>

              <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label
                    for="parentSignature"
                    class="block text-sm font-medium text-white required-field"
                  >Parent/Guardian Signature</label>
                  <input
                    type="text"
                    id="parentSignature"
                    name="parentSignature"
                    required
                    class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                  />
                </div>
                <div>
                  <label
                    for="signatureDate"
                    class="block text-sm font-medium text-white required-field"
                  >Date</label>
                  <input
                    type="date"
                    id="signatureDate"
                    name="signatureDate"
                    required
                    class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
                  />
                </div>
              </div>
            </div>

            <div class="mt-8 flex justify-between">
              <button
                type="button"
                class="prev-tab px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-trfc-blue hover:bg-[#197fef] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-trfc-blue"
                data-prev="enrollment"
              >
                <i class="fas fa-arrow-left mr-2"></i> Back: Enrollment
              </button>
              <button
                type="button"
                class="next-tab px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-trfc-gold hover:bg-[#e6c300] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-trfc-gold"
                data-next="waiver"
              >
                Next: Waiver <i class="fas fa-arrow-right ml-2"></i>
              </button>
            </div>
          </div>

<!-- WAIVER SECTION -->
<div id="waiver" class="form-section mt-6">
  <h3 class="text-2xl font-semibold text-white mb-6">Waiver of Liability and Release Form</h3>
  
  <div class="bg-trfc-dark p-6 rounded-lg mb-6">
    <div class="text-gray-300 space-y-4 mb-6">
      <p class="text-sm italic">
        This form must be completed for each soccer player. If the player is under 18 years old, 
        it must be signed by the player's parent or legal guardian. No player will be allowed to 
        participate in Texarkana Rovers FC practices or games without this form being properly executed and on file.
      </p>
    </div>

    <h4 class="text-lg font-medium text-white mb-4">Player Status Agreement</h4>
    <div class="bg-gray-800 p-4 rounded mb-4">
      <p class="text-gray-300 text-sm mb-4">
        I understand that my player status will be kept in good standing. I will not compromise myself 
        in such a way as to do harm to Texarkana Rovers FC, knowing that players may be dismissed from 
        participation, with possible loss of payment or dues, for violent conduct or unsporting behavior 
        on or off the field of play. I agree to pay for any and all damages to any property or indemnities 
        caused by me willfully, negligently, or otherwise.
      </p>
      <label class="inline-flex items-center">
        <input
          type="checkbox"
          name="playerStatusAgreement"
          required
          class="rounded border-gray-700 text-trfc-gold focus:ring-trfc-gold"
        />
        <span class="ml-2 text-white required-field">I agree to maintain good player status</span>
      </label>
    </div>

    <h4 class="text-lg font-medium text-white mb-4">Risk Acknowledgment</h4>
    <div class="bg-gray-800 p-4 rounded mb-4">
      <p class="text-gray-300 text-sm mb-4">
        I acknowledge that soccer is a physical, contact sport that involves the inherent risk of injury. 
        I assume all risks and hazards associated with participation in the sport. I am in proper physical 
        condition to participate in soccer practices and games and have no illness, disease or existing 
        injury or physical defect that would be aggravated by participation. I will inform my coach if 
        this status changes. I acknowledge that this risk may involve loss or damage to me or my property, 
        including the risk of death, or other unforeseen consequences, including those which may be due to 
        the unavailability of immediate emergency medical care. I have a current medical consent form in force. 
        I shall wear shinguards, properly-fitted and appropriate shoes, and other protective equipment 
        (e.g., mouth-pieces), as provided by soccer rules, to all events. I shall not wear any items that 
        are prohibited by the rules or Texarkana Rovers FC.
      </p>
      <label class="inline-flex items-center">
        <input
          type="checkbox"
          name="riskAcknowledgment"
          required
          class="rounded border-gray-700 text-trfc-gold focus:ring-trfc-gold"
        />
        <span class="ml-2 text-white required-field">I acknowledge the risks of soccer participation</span>
      </label>
    </div>

    <h4 class="text-lg font-medium text-white mb-4">Insurance and Medical Expenses</h4>
    <div class="bg-gray-800 p-4 rounded mb-4">
      <p class="text-gray-300 text-sm mb-4">
        I acknowledge that Texarkana Rovers FC does not have personal injury or health insurance that 
        covers my participation. Therefore, I should have a current, active, personal injury insurance 
        policy in force, which covers my participation. Under any condition, I am responsible for any 
        and all medical expenses arising from my participation, both in practices and games and while 
        traveling to and from these events. I have the right and responsibility to inspect the equipment 
        and facilities prior to events and, if I believe that anything may be unsafe, I will advise the 
        coach or supervisor of the condition and may refuse to participate. Participation assumes consent.
      </p>
      <label class="inline-flex items-center">
        <input
          type="checkbox"
          name="insuranceAcknowledgment"
          required
          class="rounded border-gray-700 text-trfc-gold focus:ring-trfc-gold"
        />
        <span class="ml-2 text-white required-field">I acknowledge insurance and medical expense responsibilities</span>
      </label>
    </div>

    <h4 class="text-lg font-medium text-white mb-4">Photo and Media Release</h4>
    <div class="bg-gray-800 p-4 rounded mb-4">
      <p class="text-gray-300 text-sm mb-4">
        I authorize my photograph, picture or likeness, and voice to appear in any documentary, promotion 
        (including advertising), television, video, or radio coverage of Texarkana Rovers FC, without compensation.
      </p>
      <label class="inline-flex items-center">
        <input
          type="checkbox"
          name="photoRelease"
          required
          class="rounded border-gray-700 text-trfc-gold focus:ring-trfc-gold"
        />
        <span class="ml-2 text-white required-field">I authorize photo and media use</span>
      </label>
    </div>

    <h4 class="text-lg font-medium text-white mb-4">Complete Liability Release</h4>
    <div class="bg-gray-800 p-4 rounded mb-4">
      <p class="text-gray-300 text-sm mb-4">
        I hereby release, waive liability, discharge, hold harmless, indemnify, and covenant not to sue, 
        the United States Soccer Federation, the Texas State Soccer Association, Texarkana Rovers Football Club, 
        their associated directors, administrators, officers, managers, employees, coaches, referees, trainers, 
        volunteers, sponsors and advertisers, and other agents, estates or executors, including family members, 
        from any and all liability incurred in the conduct of, and my participation in, their soccer programs. 
        This includes owners, lessors, and lessees of premises, municipalities, government agencies, successors, 
        heirs, and assigns.
      </p>
      <p class="text-gray-300 text-sm mb-4 font-medium">
        I have completely read this document and fully understand its contents. I acknowledge that I have 
        given up substantial rights by accepting this document and that I do so voluntarily. My signature 
        attests to this on behalf of myself and my executors, personal representatives, administrators, 
        heirs, next-of-kin, successors, and assigns.
      </p>
      <label class="inline-flex items-center">
        <input
          type="checkbox"
          name="liabilityRelease"
          required
          class="rounded border-gray-700 text-trfc-gold focus:ring-trfc-gold"
        />
        <span class="ml-2 text-white required-field">I agree to the complete liability release</span>
      </label>
    </div>

    <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label
          for="waiverSignature"
          class="block text-sm font-medium text-white required-field"
        >Parent/Guardian Signature</label>
        <input
          type="text"
          id="waiverSignature"
          name="waiverSignature"
          required
          placeholder="Type your full legal name"
          class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
        />
        <p class="mt-1 text-xs text-gray-400">
          As the parent/legal guardian, I agree to this waiver on behalf of the minor participant named above.
        </p>
      </div>
      <div>
        <label
          for="waiverDate"
          class="block text-sm font-medium text-white required-field"
        >Date</label>
        <input
          type="date"
          id="waiverDate"
          name="waiverDate"
          required
          class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold"
        />
      </div>
    </div>
  </div>

  <div class="mt-8 flex justify-between">
    <button
      type="button"
      class="prev-tab px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-trfc-blue hover:bg-[#197fef] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-trfc-blue"
      data-prev="medical"
    >
      <i class="fas fa-arrow-left mr-2"></i> Back: Medical
    </button>
    <button
      type="button"
      class="next-tab px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-trfc-gold hover:bg-[#e6c300] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-trfc-gold"
      data-next="documents"
    >
      Next: Documents <i class="fas fa-arrow-right ml-2"></i>
    </button>
  </div>
</div>

<!-- DOCUMENTS SECTION -->
<div id="documents" class="form-section mt-6">
  <h3 class="text-2xl font-semibold text-white mb-6">Document Submission</h3>
  
  <div class="bg-trfc-dark p-6 rounded-lg mb-6">
    <h4 class="text-lg font-medium text-white mb-4">Required Document</h4>
    <p class="text-gray-400 mb-6">Upload proof of age (birth certificate) to complete enrollment.</p>

    <div class="file-upload p-4 rounded-lg bg-trfc-dark">
      <label class="block text-sm font-medium text-white mb-2 required-field">Proof of Age (Birth Certificate)</label>
      <div class="flex items-center justify-center w-full">
        <label for="proofAge" class="flex flex-col items-center justify-center w-full h-32 border-2 border-gray-700 border-dashed rounded-lg cursor-pointer bg-trfc-dark hover:bg-gray-800">
          <div class="flex flex-col items-center justify-center pt-5 pb-6">
            <i class="fas fa-cloud-upload-alt text-3xl text-gray-500 mb-2"></i>
            <p class="mb-2 text-sm text-gray-400"><span class="font-semibold">Click to upload birth certificate</span> or drag file here</p>
            <p class="text-xs text-gray-400">PDF, JPG, PNG (Max 5MB)</p>
          </div>
          <input id="proofAge" name="proofAge" type="file" class="hidden" required accept=".pdf,.jpg,.jpeg,.png" />
        </label>
      </div>
      <div id="proofAgePreview" class="mt-2 hidden text-gray-300">
        File: <span id="proofAgeFileName" class="font-medium"></span>
        <button type="button" class="ml-2 text-red-500 hover:text-red-700" onclick="removeFile('proofAge')">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- UPDATED PAYMENT INFORMATION SECTION WITH INVOICE CODE -->
  <div class="bg-trfc-dark p-6 rounded-lg mb-6">
    <h4 class="text-lg font-medium text-white mb-4">Payment Information</h4>
    <p class="text-gray-400 mb-4">Enrollment fee: $97 per player. Choose your payment method below.</p>

    <!-- Invoice Code Section -->
    <div class="mb-6 p-4 bg-gray-800 rounded-lg border border-gray-600">
      <div class="flex items-center mb-3">
        <i class="fas fa-ticket-alt text-trfc-gold mr-2"></i>
        <label for="invoiceCode" class="text-sm font-medium text-white">Invoice Code (Optional)</label>
      </div>
      <input 
        type="text" 
        id="invoiceCode" 
        name="invoiceCode" 
        placeholder="Enter invoice code"
        class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold" 
      />
      <p class="text-xs text-gray-400 mt-1"></p>
    </div>

    <!-- Custom Amount Section (Hidden by default) -->
    <div id="customAmountSection" class="mb-6 p-4 bg-green-900 bg-opacity-20 rounded-lg border border-green-500 hidden">
      <div class="flex items-center mb-3">
        <i class="fas fa-dollar-sign text-green-400 mr-2"></i>
        <label for="customAmount" class="text-sm font-medium text-white">Custom Payment Amount</label>
      </div>
      <div class="relative">
        <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500">$</span>
        <input 
          type="number" 
          id="customAmount" 
          name="customAmount" 
          min="1" 
          max="500" 
          step="0.01"
          placeholder="0.00"
          class="mt-1 block w-full pl-8 rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold" 
        />
      </div>
      <p class="text-xs text-gray-400 mt-1">Enter amount between $1.00 and $500.00</p>
      <div id="amountPreview" class="mt-2 text-sm text-green-400 hidden">
        Payment amount: <span id="previewAmount">$0.00</span>
      </div>
    </div>

    <div class="mt-4">
      <label class="inline-flex items-center">
        <input type="radio" name="paymentMethod" value="online" class="h-4 w-4 text-trfc-gold focus:ring-trfc-gold border-gray-700" checked />
        <span class="ml-2 text-white">Pay Online Now</span>
      </label>
      <label class="inline-flex items-center ml-6">
        <input type="radio" name="paymentMethod" value="check" class="h-4 w-4 text-trfc-gold focus:ring-trfc-gold border-gray-700" />
        <span class="ml-2 text-white">Pay by Check</span>
      </label>
    </div>

    <!-- Online Payment Section with Stripe -->
    <div id="onlinePayment" class="mt-6">
      <div class="mb-4">
        <label for="cardName" class="block text-sm font-medium text-white mb-2">Name on Card</label>
        <input type="text" id="cardName" name="cardName" 
               class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold" />
      </div>
      
      <!-- Stripe Elements Card Input -->
      <div class="mb-4">
        <label class="block text-sm font-medium text-white mb-2">Card Information</label>
        <div id="card-element" class="p-3 border border-gray-700 rounded-md bg-white min-h-[40px]">
          <!-- Stripe Elements will create form elements here -->
        </div>
        <div id="card-errors" role="alert" class="text-red-500 text-sm mt-2"></div>
      </div>

      <!-- Billing Address -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <div>
          <label for="billingAddress" class="block text-sm font-medium text-white mb-2">Billing Address</label>
          <input type="text" id="billingAddress" name="billingAddress" 
                 class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold" />
        </div>
        <div>
          <label for="billingZip" class="block text-sm font-medium text-white mb-2">ZIP Code</label>
          <input type="text" id="billingZip" name="billingZip" 
                 class="mt-1 block w-full rounded-md border-gray-700 bg-white text-black shadow-sm focus:border-trfc-gold focus:ring-trfc-gold" />
        </div>
      </div>

      <!-- Payment Agreement -->
      <div class="mt-6">
        <label class="inline-flex items-start required-field">
          <input type="checkbox" name="paymentAgreement" class="h-4 w-4 text-trfc-gold focus:ring-trfc-gold border-gray-700 mt-1" required />
          <span class="ml-2 text-white">
            I agree to pay the <span id="paymentAmountText">$97</span> enrollment fee
          </span>
        </label>
      </div>
    </div>

    <!-- Check Payment Section -->
    <div id="checkPayment" class="mt-6 hidden">
      <div class="bg-gray-800 p-4 rounded-lg">
        <h5 class="text-white font-medium mb-2">Check Payment Instructions</h5>
        <ul class="text-gray-300 text-sm space-y-1">
          <li>• Make check payable to: <strong>Texarkana Rovers FC</strong></li>
          <li>• Amount: <strong id="checkAmountText">$97.00</strong></li>
          <li>• Write player's name in memo line</li>
          <li>• Mail to: <strong>1 Legion Dr, Texarkana, AR 71854</strong></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="mt-8 flex justify-between">
    <button type="button" class="prev-tab px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-trfc-blue hover:bg-[#197fef] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-trfc-blue" data-prev="waiver">
      <i class="fas fa-arrow-left mr-2"></i> Back: Waiver
    </button>
    <button type="submit" class="px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-trfc-gold hover:bg-[#e6c300] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-trfc-gold">
      Complete Enrollment <i class="fas fa-check ml-2"></i>
    </button>
  </div>
</div>        </form>
      </div>
    </div>
  </main>

 <!-- Footer -->
  <footer class="bg-black text-white pt-16 pb-8">
    <div class="container mx-auto px-4">
      <div class="grid md:grid-cols-4 gap-12 mb-12">
        <div>
          <div class="flex items-center mb-6">
            <img src="https://i.imgur.com/1y6lprp.png" alt="Logo" class="h-12 w-12 mr-3">
            <div>
              <h3 class="text-xl font-bold font-title">ROVERS<span class="text-gold"> FC</span></h3>
              <p class="text-xs text-skyblue">Texarkana Rovers Football Club</p>
            </div>
          </div>
          <p class="text-gray-400 mb-4">
            Developing elite soccer athletes through professional coaching, competitive play, and character development.
          </p>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-skyblue"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="text-gray-400 hover:text-skyblue"><i class="fab fa-twitter"></i></a>
            <a href="#" class="text-gray-400 hover:text-skyblue"><i class="fab fa-instagram"></i></a>
            <a href="#" class="text-gray-400 hover:text-skyblue"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
        
        <div>
          <h4 class="text-lg font-bold mb-6 text-gold">QUICK LINKS</h4>
          <ul class="space-y-3">
            <li><a href="index.html" class="text-gray-400 hover:text-white">Home</a></li>
            <li><a href="about.html" class="text-gray-400 hover:text-white">About TRFC</a></li>
            <li><a href="coming-soon" class="text-gray-400 hover:text-white">Schedules</a></li>
            <li><a href="enrollment.html" class="text-gray-400 hover:text-white">Registration</a></li>
            <li><a href="apply.html" class="text-gray-400 hover:text-white">Apply</a></li>
            <li><a href="contact.html" class="text-gray-400 hover:text-white">Contact</a></li>
          </ul>
        </div>
        
        <div>
          <h4 class="text-lg font-bold mb-6 text-gold">PROGRAMS</h4>
          <ul class="space-y-3">
            <li><a href="kit-academy.html" class="text-gray-400 hover:text-white">Kit Academy</a></li>
            <li><a href="rovers-fc.html" class="text-gray-400 hover:text-white">Rovers FC</a></li>
            <li><a href="coming-soon.html" class="text-gray-400 hover:text-white">Camps & Clinics</a></li>
            <li><a href="open-training.html" class="text-gray-400 hover:text-white">Open Training</a></li>
            <li><a href="coming-soon.html" class="text-gray-400 hover:text-white">Recreation League</a></li>
            <li><a href="competitive.html" class="text-gray-400 hover:text-white">Competitive</a></li>
          </ul>
        </div>
        
        <div>
          <h4 class="text-lg font-bold mb-6 text-gold">CONTACT US</h4>
          <ul class="space-y-3 text-gray-400">
            <li class="flex items-start">
              <i class="fas fa-map-marker-alt text-skyblue mr-3 mt-1"></i>
              <span>1 Legion Dr<br>Texarkana, AR 71854</span>
            </li>
            <li class="flex items-center">
              <i class="fas fa-phone-alt text-skyblue mr-3"></i>
              <span>(903) 748-7697</span>
            </li>
            <li class="flex items-center">
              <i class="fas fa-envelope text-skyblue mr-3"></i>
              <span>info@txkrovers.com</span>
            </li>
          </ul>
          
          <h4 class="text-lg font-bold mt-8 mb-4 text-gold">NEWSLETTER</h4>
          <form class="flex">
            <input type="email" placeholder="Your email" class="px-4 py-2 rounded-l-md focus:outline-none text-black w-full">
            <button type="submit" class="bg-gold text-black px-4 py-2 rounded-r-md font-bold"><i class="fas fa-paper-plane"></i></button>
          </form>
        </div>
      </div>
      
      <div class="pt-8 border-t border-gray-800">
        <div class="flex flex-col md:flex-row justify-between items-center">
          <p class="text-gray-500 text-sm mb-4 md:mb-0">
            © 2024 TRFC Rovers FC. All rights reserved.
          </p>
          <div class="flex space-x-6">
            <a href="#" class="text-gray-500 hover:text-white text-sm">Privacy Policy</a>
            <a href="#" class="text-gray-500 hover:text-white text-sm">Terms of Service</a>
            <a href="#" class="text-gray-500 hover:text-white text-sm">Sitemap</a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Success Modal -->
  <div
    id="successModal"
    class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
  >
    <div class="bg-white rounded-lg p-8 max-w-md w-full">
      <div class="text-center">
        <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-trfc-gold">
          <i class="fas fa-check text-trfc-dark text-xl"></i>
        </div>
        <h3 class="text-lg font-medium text-trfc-dark mt-3">Enrollment Submitted!</h3>
        <div class="mt-2">
          <p class="text-sm text-gray-600">Thank you for enrolling. We will contact you soon.</p>
        </div>
        <div class="mt-6">
          <button
            type="button"
            onclick="closeSuccessModal()"
            class="px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-trfc-gold hover:bg-[#e6c300] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-trfc-gold"
          >
            Close
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Enhanced Tab Navigation, Validation, and Form Submit logic with Stripe Integration
document.addEventListener('DOMContentLoaded', function() {

  // Invoice Code and Custom Amount Logic
  const invoiceCodeInput = document.getElementById('invoiceCode');
  const customAmountSection = document.getElementById('customAmountSection');
  const customAmountInput = document.getElementById('customAmount');
  const amountPreview = document.getElementById('amountPreview');
  const previewAmount = document.getElementById('previewAmount');
  const paymentAmountText = document.getElementById('paymentAmountText');
  const checkAmountText = document.getElementById('checkAmountText');

  // Valid invoice codes (you can expand this list)
  const validInvoiceCodes = ['TEST', 'ADMIN', 'ROVERSMAX'];

  // Invoice code validation
  invoiceCodeInput.addEventListener('input', function() {
    const code = this.value.toUpperCase().trim();
    
    if (validInvoiceCodes.includes(code)) {
      // Show custom amount section
      customAmountSection.classList.remove('hidden');
      customAmountInput.focus();
    } else {
      // Hide custom amount section and reset
      customAmountSection.classList.add('hidden');
      customAmountInput.value = '';
      amountPreview.classList.add('hidden');
      updatePaymentAmountDisplay(97); // Reset to default
    }
  });

  // Custom amount input validation and preview
  customAmountInput.addEventListener('input', function() {
    const amount = parseFloat(this.value);
    
    if (amount && amount >= 1 && amount <= 500) {
      previewAmount.textContent = `$${amount.toFixed(2)}`;
      amountPreview.classList.remove('hidden');
      updatePaymentAmountDisplay(amount);
    } else {
      amountPreview.classList.add('hidden');
      updatePaymentAmountDisplay(97); // Reset to default
    }
  });

  // Update payment amount display throughout the form
  function updatePaymentAmountDisplay(amount) {
    const formattedAmount = `$${amount.toFixed(2)}`;
    paymentAmountText.textContent = formattedAmount;
    checkAmountText.textContent = formattedAmount;
  }

  // Payment method toggle
  const paymentMethodRadios = document.querySelectorAll('input[name="paymentMethod"]');
  const onlinePayment = document.getElementById('onlinePayment');
  const checkPayment = document.getElementById('checkPayment');

  paymentMethodRadios.forEach(radio => {
    radio.addEventListener('change', function() {
      if (this.value === 'online') {
        onlinePayment.classList.remove('hidden');
        checkPayment.classList.add('hidden');
      } else {
        onlinePayment.classList.add('hidden');
        checkPayment.classList.remove('hidden');
      }
    });
  });

  // Function to get current payment amount in cents for Stripe
  window.getCurrentPaymentAmount = function() {
    const customAmount = document.getElementById('customAmount').value;
    const invoiceCode = document.getElementById('invoiceCode').value.toUpperCase().trim();
    
    if (validInvoiceCodes.includes(invoiceCode) && customAmount) {
      const amount = parseFloat(customAmount);
      if (amount >= 1 && amount <= 500) {
        return Math.round(amount * 100); // Convert to cents
      }
    }
    
    return 9700; // Default $97.00 in cents
  };

  // REPLACE WITH YOUR ACTUAL STRIPE PUBLISHABLE KEY
  const STRIPE_PUBLISHABLE_KEY = 'pk_live_51RiUdYJlZ2hFUsl8NYUqeW3nFl3LoqBwvfjtgseYtl5mC4erHFKKpcXdFUsLnm9qKoZz5L4UkWJdCG7gHZ1W96vJ00OxvNDttx';
  
  // Initialize Stripe
  let stripe, elements, cardElement;
  
  // Only initialize Stripe if we have a valid key
  if (STRIPE_PUBLISHABLE_KEY && STRIPE_PUBLISHABLE_KEY !== 'pk_test_YOUR_PUBLISHABLE_KEY_HERE') {
    stripe = Stripe(STRIPE_PUBLISHABLE_KEY);
    elements = stripe.elements();

    // Create card element with custom styling
    cardElement = elements.create('card', {
      style: {
        base: {
          fontSize: '16px',
          color: '#424770',
          fontFamily: 'Montserrat, sans-serif',
          '::placeholder': {
            color: '#aab7c4',
          },
          iconColor: '#666EE8',
        },
        invalid: {
          color: '#e5424d',
          ':focus': {
            color: '#303238',
          },
        },
      },
    });

    // Mount card element
    cardElement.mount('#card-element');

    // Handle real-time validation errors from the card Element
    cardElement.on('change', function(event) {
      const displayError = document.getElementById('card-errors');
      if (event.error) {
        displayError.textContent = event.error.message;
      } else {
        displayError.textContent = '';
      }
    });
  }

  // Define required fields for each tab
  const requiredFieldsByTab = {
    enrollment: [
      'firstName', 'lastName', 'birthDate', 'gender', 'parentName', 
      'relationship', 'email', 'phone', 'address', 'city', 'state', 'zip',
      'emergencyName', 'emergencyRelationship', 'emergencyPhone'
    ],
    medical: [
      'medicalAuthorization', 'parentSignature', 'signatureDate'
    ],
    waiver: [
      'playerStatusAgreement', 'riskAcknowledgment', 'insuranceAcknowledgment',
      'photoRelease', 'liabilityRelease', 'waiverSignature', 'waiverDate'
    ],
    documents: [
      'proofAge', 'paymentAgreement'
    ]
  };

  // Function to validate a specific tab
  function validateTab(tabId) {
    const requiredFields = requiredFieldsByTab[tabId] || [];
    const missingFields = [];
    
    requiredFields.forEach(fieldName => {
      const field = document.querySelector(`[name="${fieldName}"]`);
      if (!field) return;
      
      let isValid = false;
      
      if (field.type === 'checkbox' || field.type === 'radio') {
        // For checkboxes and radio buttons
        if (field.type === 'radio') {
          // Check if any radio button with this name is selected
          const radioGroup = document.querySelectorAll(`[name="${fieldName}"]`);
          isValid = Array.from(radioGroup).some(radio => radio.checked);
        } else {
          isValid = field.checked;
        }
      } else if (field.type === 'file') {
        // For file uploads
        isValid = field.files && field.files.length > 0;
      } else {
        // For text inputs, selects, textareas
        isValid = field.value && field.value.trim() !== '';
      }
      
      if (!isValid) {
        const label = document.querySelector(`label[for="${fieldName}"]`);
        const fieldLabel = label ? label.textContent.replace('*', '').trim() : fieldName;
        missingFields.push(fieldLabel);
      }
    });
    
    return missingFields;
  }

  // Function to show validation errors
  function showValidationError(missingFields, targetTab) {
    const tabNames = {
      enrollment: 'Enrollment',
      medical: 'Medical',
      waiver: 'Waiver',
      documents: 'Documents'
    };
    
    const errorMessage = `
      <div style="background-color: #fee; border: 2px solid #f00; border-radius: 8px; padding: 15px; margin: 20px 0;">
        <h4 style="color: #d00; margin: 0 0 10px 0;">⚠️ Required Information Missing</h4>
        <p style="margin: 0 0 10px 0; color: #333;">
          Please complete the following required fields in the <strong>${tabNames[targetTab]}</strong> section before continuing:
        </p>
        <ul style="margin: 0; padding-left: 20px; color: #333;">
          ${missingFields.map(field => `<li>${field}</li>`).join('')}
        </ul>
      </div>
    `;
    
    // Remove any existing error messages
    const existingErrors = document.querySelectorAll('.validation-error');
    existingErrors.forEach(error => error.remove());
    
    // Add error message to the current tab
    const currentSection = document.querySelector('.form-section.active');
    const errorDiv = document.createElement('div');
    errorDiv.className = 'validation-error';
    errorDiv.innerHTML = errorMessage;
    currentSection.insertBefore(errorDiv, currentSection.firstChild);
    
    // Scroll to top of page to show error
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  // Function to clear validation errors
  function clearValidationErrors() {
    const existingErrors = document.querySelectorAll('.validation-error');
    existingErrors.forEach(error => error.remove());
  }

  // Function to update tab indicator styles
  function updateTabIndicators(activeTabId) {
    document.querySelectorAll('.tab-indicator').forEach(tab => {
      const tabId = tab.getAttribute('data-tab');
      tab.classList.remove('text-trfc-gold', 'border-trfc-gold', 'active');
      tab.classList.add('text-gray-400');
      
      if (tabId === activeTabId) {
        tab.classList.remove('text-gray-400');
        tab.classList.add('text-trfc-gold', 'border-trfc-gold', 'active');
      }
    });
  }

// Function to switch to a tab
function switchToTab(tabId) {
  // Hide all sections
  document.querySelectorAll('.form-section').forEach(section => {
    section.classList.remove('active');
  });
  
  // Show target section
  document.getElementById(tabId).classList.add('active');
  
  // Update tab indicators
  updateTabIndicators(tabId);
  
  // Clear any validation errors
  clearValidationErrors();
  
  // Scroll to top of page
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

  // Tab navigation with validation
  document.querySelectorAll('.tab-indicator').forEach(tab => {
    tab.addEventListener('click', function(e) {
      e.preventDefault();
      const targetTabId = this.getAttribute('data-tab');
      const currentTab = document.querySelector('.tab-indicator.active');
      const currentTabId = currentTab ? currentTab.getAttribute('data-tab') : 'enrollment';
      
      // If clicking on the same tab, do nothing
      if (targetTabId === currentTabId) return;
      
      // Validate current tab before switching
      const missingFields = validateTab(currentTabId);
      
      if (missingFields.length > 0) {
        showValidationError(missingFields, currentTabId);
        return; // Don't switch tabs
      }
      
      // Switch to the new tab
      switchToTab(targetTabId);
    });
  });

  // Next/Previous button navigation with validation
  document.querySelectorAll('.next-tab').forEach(button => {
    button.addEventListener('click', function(e) {
      e.preventDefault();
      const nextTabId = this.getAttribute('data-next');
      const currentTab = document.querySelector('.tab-indicator.active');
      const currentTabId = currentTab ? currentTab.getAttribute('data-tab') : 'enrollment';
      
      // Validate current tab
      const missingFields = validateTab(currentTabId);
      
      if (missingFields.length > 0) {
        showValidationError(missingFields, currentTabId);
        return;
      }
      
      // Switch to next tab
      switchToTab(nextTabId);
    });
  });

  document.querySelectorAll('.prev-tab').forEach(button => {
    button.addEventListener('click', function(e) {
      e.preventDefault();
      const prevTabId = this.getAttribute('data-prev');
      switchToTab(prevTabId);
    });
  });

  // File upload preview functionality
  document.querySelectorAll('input[type="file"]').forEach(input => {
    input.addEventListener('change', function() {
      const file = this.files[0];
      const previewId = `${this.id}Preview`;
      const fileNameId = `${this.id}FileName`;
      const preview = document.getElementById(previewId);
      const fileName = document.getElementById(fileNameId);
      
      if (file && preview && fileName) {
        preview.classList.remove('hidden');
        fileName.textContent = file.name;
      }
    });
  });

  // Remove file function
  window.removeFile = function(inputId) {
    const input = document.getElementById(inputId);
    const preview = document.getElementById(`${inputId}Preview`);
    if (input) input.value = '';
    if (preview) preview.classList.add('hidden');
  };

  // Enhanced form submission with Stripe payment processing
  const enrollmentForm = document.getElementById("enrollmentForm");
  if (enrollmentForm) {
    enrollmentForm.addEventListener("submit", async function(e) {
      e.preventDefault();
      
      // Validate all tabs before submission
      let allValid = true;
      let allMissingFields = [];
      
      Object.keys(requiredFieldsByTab).forEach(tabId => {
        const missingFields = validateTab(tabId);
        if (missingFields.length > 0) {
          allValid = false;
          allMissingFields.push({
            tab: tabId,
            fields: missingFields
          });
        }
      });
      
      if (!allValid) {
        // Show error for the first tab with missing fields
        const firstInvalidTab = allMissingFields[0];
        switchToTab(firstInvalidTab.tab);
        showValidationError(firstInvalidTab.fields, firstInvalidTab.tab);
        
        // Show summary of all missing fields
        const tabNames = {
          enrollment: 'Enrollment',
          medical: 'Medical', 
          waiver: 'Waiver',
          documents: 'Documents'
        };
        
        const summaryMessage = allMissingFields.map(tab => 
          `${tabNames[tab.tab]}: ${tab.fields.join(', ')}`
        ).join('\n');
        
        alert(`Please complete all required fields:\n\n${summaryMessage}`);
        return;
      }
      
      // Show loading state
      const submitButton = this.querySelector('button[type="submit"]');
      const originalText = submitButton.innerHTML;
      submitButton.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Processing...';
      submitButton.disabled = true;
      
      try {
        const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
        
        if (paymentMethod === 'online') {
          // Process online payment with Stripe
          if (!stripe || !cardElement) {
            throw new Error('Payment processing not available. Please contact support.');
          }
          
          submitButton.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Processing Payment...';
          
          // Create payment token
          const {token, error} = await stripe.createToken(cardElement, {
            name: document.getElementById('cardName').value,
            address_line1: document.getElementById('billingAddress').value,
            address_zip: document.getElementById('billingZip').value,
          });

          if (error) {
            document.getElementById('card-errors').textContent = error.message;
            throw new Error(error.message);
          }

          // Prepare form data with payment token
          const formData = new FormData(this);
          formData.append('stripeToken', token.id);
          
          // Add invoice code and custom amount to form data for tracking
          const invoiceCode = document.getElementById('invoiceCode').value;
          const customAmount = document.getElementById('customAmount').value;
          if (invoiceCode) {
            formData.append('invoiceCode', invoiceCode);
          }
          if (customAmount) {
            formData.append('customAmountDollars', customAmount);
          }
          
          const paymentAmountCents = getCurrentPaymentAmount();
          formData.append('paymentAmount', paymentAmountCents.toString());
          formData.append('tokenId', token.id);
          
          // Submit to backend
          const response = await fetch("/api/enroll", {
            method: "POST",
            body: formData
          });
          
          const result = await response.json();
          
          if (response.ok && result.success) {
            // Payment successful
            const amountText = (paymentAmountCents / 100).toFixed(2);
            showSuccessMessage(`Payment of $${amountText} processed successfully! Welcome to Rovers FC.`);
          } else {
            throw new Error(result.error || 'Payment processing failed');
          }
          
        } else {
          // Handle check payment (no Stripe processing)
          const formData = new FormData(this);
          
          // Add invoice code and custom amount for check payments too
          const invoiceCode = document.getElementById('invoiceCode').value;
          const customAmount = document.getElementById('customAmount').value;
          if (invoiceCode) {
            formData.append('invoiceCode', invoiceCode);
          }
          if (customAmount) {
            formData.append('customAmountDollars', customAmount);
            formData.append('paymentAmount', (parseFloat(customAmount) * 100).toString());
          }
          
          const response = await fetch("/api/enroll", {
            method: "POST",
            body: formData
          });
          
          const result = await response.json();
          
          if (response.ok && result.success) {
            showSuccessMessage('Enrollment submitted successfully! Please mail your check to complete the process.');
          } else {
            throw new Error(result.error || 'Enrollment submission failed');
          }
        }
        
      } catch (error) {
        console.error('Form submission error:', error);
        alert(`Error: ${error.message}`);
      } finally {
        // Reset button state
        submitButton.innerHTML = originalText;
        submitButton.disabled = false;
      }
    });
  }

  // Success message function
  function showSuccessMessage(message) {
    const successModal = document.getElementById("successModal");
    if (successModal) {
      // Update success message
      const messageElement = successModal.querySelector('p');
      if (messageElement) {
        messageElement.textContent = message;
      }
      successModal.classList.remove("hidden");
    }
  }

  // Success modal close function
  window.closeSuccessModal = function() {
    const successModal = document.getElementById("successModal");
    if (successModal) {
      successModal.classList.add("hidden");
    }
    
    // Reset form and go back to first tab
    switchToTab('enrollment');
    if (enrollmentForm) {
      enrollmentForm.reset();
    }
    
    // Clear Stripe element
    if (cardElement) {
      cardElement.clear();
    }
    
    // Hide file previews
    document.querySelectorAll('[id$="Preview"]').forEach(preview => {
      preview.classList.add("hidden");
    });
  };

  // Real-time validation feedback
  document.querySelectorAll('input, select, textarea').forEach(field => {
    field.addEventListener('blur', function() {
      // Clear errors when user starts fixing them
      if (this.value.trim() !== '' || (this.type === 'checkbox' && this.checked)) {
        clearValidationErrors();
      }
    });
  });

});

// Mobile menu functionality
document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuButton = document.querySelector('button[class*="lg:hidden"]');
    
    if (mobileMenuButton && !document.getElementById('mobile-menu')) {
        const mobileMenu = document.createElement('div');
        mobileMenu.className = 'hidden fixed inset-0 bg-black bg-opacity-90 z-50 p-4 overflow-y-auto';
        mobileMenu.id = 'mobile-menu';
        
        mobileMenu.innerHTML = `
            <div class="flex justify-between items-center mb-8">
                <div class="flex items-center space-x-2">
                    <img src="https://i.imgur.com/1y6lprp.png" alt="Logo" class="h-10 w-10">
                    <div>
                        <h2 class="text-xl font-bold">TEXARKANA <span class="text-gold">ROVERS</span></h2>
                        <p class="text-xs text-skyblue">FOOTBALL CLUB</p>
                    </div>
                </div>
                <button id="close-mobile-menu" class="text-white text-2xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="space-y-6">
                <a href="index.html" class="block text-white text-lg py-2">Home</a>
                <a href="about.html" class="block text-white text-lg py-2">About</a>
                
                <div class="dropdown-container">
                    <button class="dropdown-toggle flex items-center justify-between w-full text-white text-left text-lg py-2">
                        Club <i class="fas fa-chevron-down ml-2 text-xs"></i>
                    </button>
                    <div class="dropdown-content pl-4 mt-2 hidden">
                        <a href="kit-academy.html" class="block py-2 text-gray-300 hover:text-white">Kit Academy</a>
                        <a href="rovers-fc.html" class="block py-2 text-gray-300 hover:text-white">Rovers FC</a>
                        <a href="coming-soon.html" class="block py-2 text-gray-300 hover:text-white">Schedules</a>
                        <a href="gear.html" class="block py-2 text-gray-300 hover:text-white">Gear</a>
                        <a href="coming-soon.html" class="block py-2 text-gray-300 hover:text-white">Scholarships</a>
                        <a href="faq.html" class="block py-2 text-gray-300 hover:text-white">FAQ</a>
                    </div>
                </div>
                
                <div class="dropdown-container">
                    <button class="dropdown-toggle flex items-center justify-between w-full text-white text-left text-lg py-2">
                        Programs <i class="fas fa-chevron-down ml-2 text-xs"></i>
                    </button>
                    <div class="dropdown-content pl-4 mt-2 hidden">
                        <a href="open-training.html" class="block py-2 text-gray-300 hover:text-white">Open Training</a>
                        <a href="coming-soon.html" class="block py-2 text-gray-300 hover:text-white">Recreation League</a>
                        <a href="competitive.html" class="block py-2 text-gray-300 hover:text-white">Competitive</a>
                        <a href="community-outreach.html" class="block py-2 text-gray-300 hover:text-white">Community Outreach</a>
                    </div>
                </div>
                
                <a href="enrollment.html" class="block text-white text-lg py-2">Enrollment</a>
                <a href="news.html" class="block text-white text-lg py-2">News</a>
                <a href="contact.html" class="block text-white text-lg py-2">Contact</a>
                
                <a href="apply.html" class="bg-yellow-400 hover:bg-yellow-500 text-black px-6 py-3 rounded-md font-bold text-center block mt-8">
                    APPLY
                </a>
            </div>
        `;
        
        document.body.appendChild(mobileMenu);
        
        // Open mobile menu
        mobileMenuButton.addEventListener('click', function() {
            document.getElementById('mobile-menu').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        });
        
        // Close mobile menu
        document.getElementById('close-mobile-menu').addEventListener('click', function() {
            document.getElementById('mobile-menu').classList.add('hidden');
            document.body.style.overflow = 'auto';
        });
        
        // Handle dropdown toggles
        const dropdownToggles = mobileMenu.querySelectorAll('.dropdown-toggle');
        dropdownToggles.forEach(toggle => {
            toggle.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                const content = this.nextElementSibling;
                const icon = this.querySelector('i');
                const isOpen = !content.classList.contains('hidden');
                
                // Close all other dropdowns
                dropdownToggles.forEach(otherToggle => {
                    if (otherToggle !== this) {
                        const otherContent = otherToggle.nextElementSibling;
                        const otherIcon = otherToggle.querySelector('i');
                        otherContent.classList.add('hidden');
                        otherIcon.classList.remove('fa-chevron-up');
                        otherIcon.classList.add('fa-chevron-down');
                    }
                });
                
                // Toggle current dropdown
                if (isOpen) {
                    content.classList.add('hidden');
                    icon.classList.remove('fa-chevron-up');
                    icon.classList.add('fa-chevron-down');
                } else {
                    content.classList.remove('hidden');
                    icon.classList.remove('fa-chevron-down');
                    icon.classList.add('fa-chevron-up');
                }
            });
        });
    }
});
  </script>
</body>
</html>